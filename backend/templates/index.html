<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ShetkarAI API Documentation</title>
    <style>
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            line-height: 1.6;
            color: #333;
            max-width: 1000px;
            margin: 0 auto;
            padding: 20px;
        }
        h1 {
            color: #2E7D32;
            border-bottom: 2px solid #2E7D32;
            padding-bottom: 10px;
        }
        h2 {
            color: #388E3C;
            margin-top: 30px;
        }
        .endpoint {
            background-color: #F1F8E9;
            border-left: 4px solid #7CB342;
            padding: 15px;
            margin: 20px 0;
            border-radius: 0 4px 4px 0;
        }
        .method {
            display: inline-block;
            padding: 5px 10px;
            border-radius: 4px;
            font-weight: bold;
            margin-right: 10px;
        }
        .get {
            background-color: #E3F2FD;
            color: #1976D2;
        }
        .post {
            background-color: #E8F5E9;
            color: #388E3C;
        }
        code {
            background-color: #F5F5F5;
            padding: 2px 5px;
            border-radius: 3px;
            font-family: Consolas, Monaco, 'Andale Mono', monospace;
        }
        pre {
            background-color: #F5F5F5;
            padding: 15px;
            border-radius: 5px;
            overflow-x: auto;
        }
        .param-table {
            width: 100%;
            border-collapse: collapse;
            margin: 15px 0;
        }
        .param-table th, .param-table td {
            text-align: left;
            padding: 8px 12px;
            border-bottom: 1px solid #ddd;
        }
        .param-table th {
            background-color: #F5F5F5;
        }
    </style>
</head>
<body>
    <h1>ShetkarAI API Documentation</h1>
    <p>
        Welcome to the ShetkarAI API documentation. This API provides endpoints for plant disease detection, 
        soil analysis, and weather-based recommendations for farmers.
    </p>

    <h2>API Endpoints</h2>

    <!-- Health Check Endpoint -->
    <div class="endpoint">
        <span class="method get">GET</span>
        <code>/api/health</code>
        <p>Check if the API is running properly.</p>
        
        <h3>Response</h3>
        <pre>
{
    "status": "ok",
    "message": "ShetkarAI API is running"
}
        </pre>
    </div>

    <!-- Disease Detection Endpoint -->
    <div class="endpoint">
        <span class="method post">POST</span>
        <code>/api/detect-disease</code>
        <p>Upload an image of a plant to detect diseases.</p>
        
        <h3>Request Parameters</h3>
        <table class="param-table">
            <tr>
                <th>Parameter</th>
                <th>Type</th>
                <th>Required</th>
                <th>Description</th>
            </tr>
            <tr>
                <td>image</td>
                <td>File</td>
                <td>Yes</td>
                <td>The image file of the plant to analyze</td>
            </tr>
            <tr>
                <td>language</td>
                <td>String</td>
                <td>No</td>
                <td>The language for the response (en, hi). Default: en</td>
            </tr>
        </table>
        
        <h3>Response</h3>
        <pre>
{
    "disease": "Early Blight",
    "confidence": 0.87,
    "recommendations": [
        "Remove infected leaves.",
        "Apply copper-based fungicide.",
        "Ensure proper spacing for air circulation."
    ]
}
        </pre>
    </div>

    <!-- Soil Analysis Endpoint -->
    <div class="endpoint">
        <span class="method post">POST</span>
        <code>/api/analyze-soil</code>
        <p>Upload an image of soil to analyze its type and properties.</p>
        
        <h3>Request Parameters</h3>
        <table class="param-table">
            <tr>
                <th>Parameter</th>
                <th>Type</th>
                <th>Required</th>
                <th>Description</th>
            </tr>
            <tr>
                <td>image</td>
                <td>File</td>
                <td>Yes</td>
                <td>The image file of the soil to analyze</td>
            </tr>
            <tr>
                <td>language</td>
                <td>String</td>
                <td>No</td>
                <td>The language for the response (en, hi). Default: en</td>
            </tr>
        </table>
        
        <h3>Response</h3>
        <pre>
{
    "soil_type": "Loamy Soil",
    "properties": {
        "ph": 6.8,
        "nitrogen": 35,
        "phosphorus": 12,
        "potassium": 15,
        "organic_matter": 3.2
    },
    "recommendations": [
        "Maintain organic matter levels with regular compost additions.",
        "Most crops will grow well in this balanced soil type.",
        "Rotate crops to maintain soil health.",
        "Your soil pH is in the optimal range for most crops."
    ]
}
        </pre>
    </div>

    <!-- Weather Endpoint -->
    <div class="endpoint">
        <span class="method get">GET</span>
        <code>/api/weather?lat={latitude}&lon={longitude}</code>
        <p>Get weather data and recommendations based on location.</p>
        
        <h3>Request Parameters</h3>
        <table class="param-table">
            <tr>
                <th>Parameter</th>
                <th>Type</th>
                <th>Required</th>
                <th>Description</th>
            </tr>
            <tr>
                <td>lat</td>
                <td>Number</td>
                <td>Yes</td>
                <td>Latitude of the location</td>
            </tr>
            <tr>
                <td>lon</td>
                <td>Number</td>
                <td>Yes</td>
                <td>Longitude of the location</td>
            </tr>
        </table>
        
        <h3>Response</h3>
        <pre>
{
    "weather": {
        "main": {
            "temp": 28.5,
            "humidity": 65,
            "pressure": 1012
        },
        "weather": [
            {
                "main": "Clear",
                "description": "clear sky"
            }
        ],
        ...
    },
    "recommendations": [
        "Clear weather: Good time for harvesting or planting."
    ]
}
        </pre>
    </div>

    <h2>Using the API with ShetkarAI Mobile App</h2>
    <p>
        The ShetkarAI mobile app uses these API endpoints to provide farmers with valuable information about
        their crops and soil. The app handles the image capturing, location services, and provides a user-friendly
        interface in both English and Hindi.
    </p>

    <footer style="margin-top: 50px; text-align: center; color: #666; border-top: 1px solid #eee; padding-top: 20px;">
        <p>ShetkarAI &copy; 2023 - Empowering Indian Farmers with AI</p>
    </footer>
</body>
</html> 